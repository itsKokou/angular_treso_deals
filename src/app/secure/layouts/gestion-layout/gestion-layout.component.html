


  <div class="m-0 text-base antialiased font-normal leading-default bg-gray-50 text-slate-500">
    <!-- SIDE-BAR  -->

    <!-- Large Sidebar  -->
    <aside id="largeSidebar" class="max-w-62.5 ease-nav-brand z-20 fixed inset-y-0 my-4 ml-4 block w-full -translate-x-full flex-wrap items-center justify-between overflow-y-auto rounded-2xl border-0 bg-white p-0 antialiased shadow-none transition-transform duration-200 xl:left-0 xl:translate-x-0 xl:bg-transparent" style="background-color: #4D44B5;">

      <div class="h-fit">
        <div class="flex justify-end px-4 pt-2 -mb-4">
          <svg (click)="hideSideBar()" id="btnHide" class="h-5 text-white cursor-pointer rounded hover:text-purple-800 hover:bg-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="m18.75 4.5-7.5 7.5 7.5 7.5m-6-15L5.25 12l7.5 7.5" />
          </svg>
          <svg (click)="showSideBar()" id="btnShow" class="h-5 hidden text-white cursor-pointer rounded hover:text-purple-800 hover:bg-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5" />
          </svg>

        </div>

        <a class="px-8 py-4 m-0 text-lg flex items-center whitespace-nowrap text-white" routerLink="/gestion/dashboard" >
          <img src="./assets/img/logo1.png" class="rounded-full h-full max-w-full transition-all duration-200 ease-nav-brand max-h-10" alt="main_logo" />
          <span class="ml-2 font-bold transition-all duration-200 ease-nav-brand">TRESO LINK</span>
        </a>
      </div>
      
      <hr class="h-px mt-0 bg-transparent bg-gradient-to-r !from-transparent !via-white !to-transparent" />

      <div class="items-center block w-auto max-h-screen overflow-auto  grow basis-full">
        <ul class="flex flex-col pl-0 mb-0 text-gray-200">
          <li class="mt-0.5 w-full">
            <a routerLink="/gestion/dashboard" routerLinkActive="active-link" class="group rounded-lg hover:text-slate-700 hover:font-semibold hover:bg-white py-2.7 text-sm ease-nav-brand my-0 mx-4 flex items-center whitespace-nowrap px-4 transition-colors" href="#">
              <div class="group-hover:bg-gradient-to-tl from-purple-700 to-pink-500 shadow-soft-2xl mr-2 flex h-8 w-8 items-center justify-center rounded-lg bg-white bg-center stroke-0 text-center xl:p-1.55">
                <svg class="text-gray-800 group-hover:text-white" width="14px" height="14px" viewBox="0 0 45 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <title>shop</title>
                  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <g transform="translate(-1716.000000, -439.000000)" fill="currentColor" fill-rule="nonzero">
                      <g transform="translate(1716.000000, 291.000000)">
                        <g transform="translate(0.000000, 148.000000)">
                          <path
                            class="opacity-60"
                            d="M46.7199583,10.7414583 L40.8449583,0.949791667 C40.4909749,0.360605034 39.8540131,0 39.1666667,0 L7.83333333,0 C7.1459869,0 6.50902508,0.360605034 6.15504167,0.949791667 L0.280041667,10.7414583 C0.0969176761,11.0460037 -1.23209662e-05,11.3946378 -1.23209662e-05,11.75 C-0.00758042603,16.0663731 3.48367543,19.5725301 7.80004167,19.5833333 L7.81570833,19.5833333 C9.75003686,19.5882688 11.6168794,18.8726691 13.0522917,17.5760417 C16.0171492,20.2556967 20.5292675,20.2556967 23.494125,17.5760417 C26.4604562,20.2616016 30.9794188,20.2616016 33.94575,17.5760417 C36.2421905,19.6477597 39.5441143,20.1708521 42.3684437,18.9103691 C45.1927731,17.649886 47.0084685,14.8428276 47.0000295,11.75 C47.0000295,11.3946378 46.9030823,11.0460037 46.7199583,10.7414583 Z"
                          ></path>
                          <path
                            class=""
                            d="M39.198,22.4912623 C37.3776246,22.4928106 35.5817531,22.0149171 33.951625,21.0951667 L33.92225,21.1107282 C31.1430221,22.6838032 27.9255001,22.9318916 24.9844167,21.7998837 C24.4750389,21.605469 23.9777983,21.3722567 23.4960833,21.1018359 L23.4745417,21.1129513 C20.6961809,22.6871153 17.4786145,22.9344611 14.5386667,21.7998837 C14.029926,21.6054643 13.533337,21.3722507 13.0522917,21.1018359 C11.4250962,22.0190609 9.63246555,22.4947009 7.81570833,22.4912623 C7.16510551,22.4842162 6.51607673,22.4173045 5.875,22.2911849 L5.875,44.7220845 C5.875,45.9498589 6.7517757,46.9451667 7.83333333,46.9451667 L19.5833333,46.9451667 L19.5833333,33.6066734 L27.4166667,33.6066734 L27.4166667,46.9451667 L39.1666667,46.9451667 C40.2482243,46.9451667 41.125,45.9498589 41.125,44.7220845 L41.125,22.2822926 C40.4887822,22.4116582 39.8442868,22.4815492 39.198,22.4912623 Z"
                          ></path>
                        </g>
                      </g>
                    </g>
                  </g>
                </svg>
              </div>
              <span class="ml-1 opacity-100 pointer-events-none ease-soft">Dashboard</span>
            </a>
          </li>

          <li class="mt-0.5 w-full">
            <a routerLink="/gestion/adhesions" routerLinkActive="active-link" class="group rounded-lg hover:text-slate-700 hover:font-semibold hover:bg-white py-2.7 text-sm ease-nav-brand my-0 mx-4 flex items-center whitespace-nowrap px-4 transition-colors">
              <div class="group-hover:bg-gradient-to-tl from-purple-700 to-pink-500 shadow-soft-2xl mr-2 flex h-8 w-8 items-center justify-center rounded-lg bg-white bg-center stroke-0 text-center xl:p-1.5">
                <svg class="w-5 h-5 text-gray-800 group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 9h3m-3 3h3m-3 3h3m-6 1c-.306-.613-.933-1-1.618-1H7.618c-.685 0-1.312.387-1.618 1M4 5h16a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1Zm7 5a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/>
                </svg>
              </div>
              <span class="ml-1 opacity-100 pointer-events-none ease-soft">Adhésions</span>
            </a>
          </li>

          <li class="mt-0.5 w-full">
            <a routerLink="/gestion/profils" routerLinkActive="active-link" class="group rounded-lg hover:text-slate-700 hover:font-semibold hover:bg-white py-2.7 text-sm ease-nav-brand my-0 mx-4 flex items-center whitespace-nowrap px-4 transition-colors" >
              <div class="group-hover:bg-gradient-to-tl from-purple-700 to-pink-500 shadow-soft-2xl mr-2 flex h-8 w-8 items-center justify-center rounded-lg bg-white bg-center stroke-0 text-center xl:p-1.5">
                <svg class="w-5 h-5 text-gray-800 group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                  <path stroke="currentColor" stroke-width="2" d="M7 17v1a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1a3 3 0 0 0-3-3h-4a3 3 0 0 0-3 3Zm8-9a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
                </svg>
              </div>
              <span class="ml-1 opacity-100 pointer-events-none ease-soft">Profils</span>
            </a>
          </li>

          <li class="mt-0.5 w-full">
            <a class="group rounded-lg hover:text-slate-700 hover:font-semibold hover:bg-white py-2.7 text-sm ease-nav-brand my-0 mx-4 flex items-center whitespace-nowrap px-4 transition-colors">
              <div class="group-hover:bg-gradient-to-tl from-purple-700 to-pink-500 shadow-soft-2xl mr-2 flex h-8 w-8 items-center justify-center rounded-lg bg-white bg-center stroke-0 text-center xl:p-1.5">
                <svg class="w-5 h-5 text-gray-800 group-hover:text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" >
                  <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155" />
                </svg>
              </div>
              <span class="ml-1 opacity-100 pointer-events-none ease-soft">Chat</span>
            </a>
          </li>

          <li class="mt-0.5 w-full">
            <a class="group rounded-lg hover:text-slate-700 hover:font-semibold hover:bg-white py-2.7 text-sm ease-nav-brand my-0 mx-4 flex items-center whitespace-nowrap px-4 transition-colors">
              <div class="group-hover:bg-gradient-to-tl from-purple-700 to-pink-500 shadow-soft-2xl mr-2 flex h-8 w-8 items-center justify-center rounded-lg bg-white bg-center stroke-0 text-center xl:p-1.5">
                <svg class="text-gray-800 group-hover:text-white" width="12px" height="12px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <title>settings</title>
                  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <g transform="translate(-2020.000000, -442.000000)" fill="currentColor" fill-rule="nonzero">
                      <g transform="translate(1716.000000, 291.000000)">
                        <g transform="translate(304.000000, 151.000000)">
                          <polygon class="opacity-60" points="18.0883333 15.7316667 11.1783333 8.82166667 13.3333333 6.66666667 6.66666667 0 0 6.66666667 6.66666667 13.3333333 8.82166667 11.1783333 15.315 17.6716667"></polygon>
                          <path class="opacity-60" d="M31.5666667,23.2333333 C31.0516667,23.2933333 30.53,23.3333333 30,23.3333333 C29.4916667,23.3333333 28.9866667,23.3033333 28.48,23.245 L22.4116667,30.7433333 L29.9416667,38.2733333 C32.2433333,40.575 35.9733333,40.575 38.275,38.2733333 L38.275,38.2733333 C40.5766667,35.9716667 40.5766667,32.2416667 38.275,29.94 L31.5666667,23.2333333 Z"></path>
                          <path d="M33.785,11.285 L28.715,6.215 L34.0616667,0.868333333 C32.82,0.315 31.4483333,0 30,0 C24.4766667,0 20,4.47666667 20,10 C20,10.99 20.1483333,11.9433333 20.4166667,12.8466667 L2.435,27.3966667 C0.95,28.7083333 0.0633333333,30.595 0.00333333333,32.5733333 C-0.0583333333,34.5533333 0.71,36.4916667 2.11,37.89 C3.47,39.2516667 5.27833333,40 7.20166667,40 C9.26666667,40 11.2366667,39.1133333 12.6033333,37.565 L27.1533333,19.5833333 C28.0566667,19.8516667 29.01,20 30,20 C35.5233333,20 40,15.5233333 40,10 C40,8.55166667 39.685,7.18 39.1316667,5.93666667 L33.785,11.285 Z"></path>
                        </g>
                      </g>
                    </g>
                  </g>
                </svg>
              </div>
              <span class="ml-1 opacity-100 pointer-events-none ease-soft">Paramètres</span>
            </a>
          </li>
        </ul>
      </div>
    </aside>

     <!-- Small Sidebar  -->
    <aside id="smallSidebar" class="hidden max-w-20 ease-nav-brand z-20 fixed inset-y-0 my-4 ml-4 block w-full -translate-x-full flex-wrap items-center justify-between overflow-y-auto border-0 bg-white p-0 antialiased shadow-none transition-transform duration-200 xl:left-0 xl:translate-x-0 xl:bg-transparent">
      <div class="h-fit">
        <svg (click)="showSideBar()" id="btnShow" class="h-5 text-white cursor-pointer bg-purple-600 rounded hover:text-purple-800 hover:bg-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5" />
        </svg>
      </div>
    </aside>

    <!-- end sidenav -->

    <main id="main" class="ease-soft-in-out xl:ml-68.5 relative h-full max-h-screen rounded-xl transition-all duration-200">
      <!-- Navbar -->
      <nav class="relative flex flex-wrap items-center justify-between px-0 py-2 mx-6 transition-all shadow-none duration-250 ease-soft-in rounded-2xl lg:flex-nowrap lg:justify-start sticky top-[1%] backdrop-saturate-[200%] backdrop-blur-[30px] bg-[hsla(0,0%,100%,0.8)] shadow-blur z-10" navbar-main navbar-scroll="true">
        <div class="flex items-center justify-between w-full px-4 py-1 mx-auto flex-wrap-inherit">
          <nav>
            <!-- breadcrumb -->
            <ol class="flex flex-wrap pt-1 mr-12 bg-transparent rounded-lg sm:mr-16">
              <li class="text-sm leading-normal">
                <a class="opacity-50 text-slate-700" routerLink="/gestion/dashboard">Pages</a>
              </li>
              <li class="text-sm pl-2 capitalize leading-normal text-slate-700 before:float-left before:pr-2 before:text-gray-600 before:content-['/']" aria-current="page">{{page}}</li>
            </ol>
            <h6 class="mb-0 font-bold capitalize">{{page}}</h6>
          </nav>

          <div class="flex items-center mt-2 grow sm:mt-0 sm:mr-6 md:mr-0 lg:flex lg:basis-auto">
            
            <ul class="flex flex-row md:ml-auto md:pr-4 justify-end pl-0 mb-0 list-none md-max:w-full">
              
              <li class="flex items-center px-4">
                <div class="p-0 text-sm transition-all ease-nav-brand text-slate-500">
                  <i fixed-plugin-button-nav class="cursor-pointer fa fa-cog"></i>
                  <!-- fixed-plugin-button-nav  -->
                </div>
              </li>

              <!-- notifications -->
              <li class="mr-4">
                <div class="relative">
                  <button class="relative p-2 text-gray-500 hover:text-purple-600 focus:outline-none transition-colors duration-200 group">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path>
                    </svg>
                    <span *ngIf="notificationCount > 0" class="absolute right-2 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full animate-pulse">{{notificationCount}}</span>
                    <div class="absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg py-2 hidden group-hover:block z-50">
                      <div class="px-4 py-2 border-b border-gray-100">
                        <h3 class="text-sm font-semibold text-gray-900">Notifications</h3>
                      </div>
                      <div class=" max-h-80 overflow-y-auto">
                        <div *ngIf="notificationCount === 0" class="px-4 py-3 text-sm text-gray-500 text-center">
                          Aucune notification
                        </div>
                        <!-- Liste des notifications ici : Si notification inférieure ou égale à 6 -->
                        <div *ngIf="notificationCount <= notificationCountToShow && notificationCount > 0" class=" py-2 cursor-pointer transition-colors duration-200">
                          <div (click)="markAsRead(notif.id)" class="flex justify-start items-center hover:bg-gray-100 px-4 py-1" *ngFor="let notif of notifications">
                            <div class="flex-shrink-0">
                              <div class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center">
                                <svg class="w-4 h-4 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                              </div>
                            </div>
                            <div class="ml-3">
                              <p class="text-sm font-medium text-gray-900">{{notif.title}}</p>
                              <p class="text-xs text-gray-500">{{notif.content}}</p>
                            </div>
                          </div>
                        </div>

                        <!-- Si notification supérieure à 6, afficher le bouton pour voir toutes les notifications -->
                        <div *ngIf="notificationCount > notificationCountToShow" class="px-4 py-3 hover:bg-gray-50 cursor-pointer transition-colors duration-200">
                          <div class="flex items-start">
                            <div class="flex-shrink-0">
                              <div class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center">
                                <svg class="w-4 h-4 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                              </div>
                            </div>
                            <div class="ml-3">
                              <p class="text-sm font-medium text-gray-900">Nouvelle notification</p>
                              <p class="text-xs text-gray-500 mt-1">Il y a {{notificationCount}} notification(s) non lue(s)</p>
                            </div>
                          </div>
                        </div>

                      </div>
                      <div  *ngIf="notificationCount > notificationCountToShow" class="px-4 py-2 border-t border-gray-100">
                        <button (click)="showAllNotifications()" type="button" class="text-sm text-purple-600 hover:text-purple-800 font-medium">Voir toutes les notifications</button>
                      </div>
                    </div>
                  </button>
                </div>
              </li>

              <!-- Profil -->
              <li>
                <div class="w-10 h-10 cursor-pointer" id="dropdownDividerButton" data-dropdown-toggle="dropdownDivider">
                  <img class="w-full h-full" src="assets/img/user-s.png" alt="user" >
                </div>

                <div id="dropdownDivider" class="z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-fit !-ml-6">
                  <div class="px-4 py-3">
                    <span class="block text-sm text-gray-900">{{connectedUser?.firstName+" "+connectedUser?.lastName}}</span>
                    <span class="block text-sm  text-gray-500 truncate">{{connectedUser?.email}}</span>
                  </div>
                  <ul class="py-2 text-sm text-gray-700" aria-labelledby="dropdownDividerButton">
                    <li>
                      <a (click)="deconnexion()" class="block cursor-pointer px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Déconnexion</a>
                    </li>
                  </ul>
                </div>
              </li>

            </ul>
          </div>
        </div>
      </nav>

      <!-- end Navbar -->

      <div>
        <router-outlet></router-outlet>
      </div>
    </main>
  </div>
